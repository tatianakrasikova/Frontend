// * 1 –Ω–∞—Ö–æ–¥–∏–º –Ω—É–∂–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –≤ DOM –∏ –∫–ª–∞–¥–µ–º –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
const dogImg = document.querySelector('#img-dog')
const getDog = document.querySelector('#get-dog')
const btnToggle = document.querySelector('#btn-stop')

// –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ—Ç–æ—Ä–æ–π –∏–Ω—Ç–µ—Ä–≤–∞–ª –±—É–¥–µ—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è / –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å—Å—è
let isRunning = false

// * 2 –æ–±—ä—è–≤–ª—è–µ–º —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∫–∞—Ä—Ç–∏–Ω–∫–∏
const fetchDog = () => {
  // –∑–∞–ø—Ä–æ—Å –∑–∞ –¥–∞–Ω–Ω—ã–º–∏ —á–µ—Ä–µ–∑ fetch –∑–∞–ø—Ä–æ—Å - –≤ –æ—Ç–≤–µ—Ç–µ promise –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ pending (–æ–∂–∏–¥–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö)
  fetch("https://dog.ceo/api/breeds/image/random")
    //–¥–æ–∂–∏–¥–∞–µ–º—Å—è '—Å—ã—Ä—ã—Ö' –¥–∞–Ω–Ω—ã—Ö –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º —Å –ø–æ–º–æ—â—å—é –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –º–µ—Ç–æ–¥–∞ json()
    .then(res => res.json())
    // –¥–æ–∂–∏–¥–∞–µ–º—Å—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è json() –∏ –ø–æ–ª—É—á–∞–µ–º –Ω–∞—à–∏ –¥–∞–Ω–Ω—ã–µ
    .then(data => {
      // –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ src –≤ –∫–∞—Ä—Ç–∏–Ω–∫–µ
      dogImg.src = data.message
    });
}

// * 3 –≤—ã–∑—ã–≤–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –ø–æ—è–≤–ª–µ–Ω–∏—è –∫–∞—Ä—Ç–∏–Ω–∫–µ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏
fetchDog()

// * 4 –∫–ª–∞–¥–µ–º –≤—ã–∑–æ–≤ –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞ –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –∏ –∑–∞–ø—É—Å–∫–∞–µ–º –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–∞—Ä—Ç–∏–Ω–∫–∏ –∫–∞–∂–¥—ã–µ 10 —Å–µ–∫—É–Ω–¥

// –æ–±—ä—è–≤–ª—è–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –∑–∞ –ø—Ä–µ–¥–µ–ª–∞–º–∏ —Ñ—É–Ω–∫—Ü–∏–∏, —á—Ç–æ–±—ã –∏–º–µ—Ç—å –∫ –Ω–µ–π –¥–æ—Å—Ç—É–ø –≤ if / else
let dogInterval

// * 7 —Ñ—É–Ω–∫—Ü–∏—è —Å—Ç–∞—Ä—Ç / —Å—Ç–æ–ø –¥–ª—è –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞ –ø–æ–¥–≥—Ä—É–∂–∞—é—â–µ–≥–æ –∫–∞—Ä—Ç–∏–Ω–∫–∏ –∏–∑  fetch –∑–∞–ø—Ä–æ—Å–∞
const toggleInterval = () => {
  if (!isRunning) {
    console.log('start!')
    dogInterval = setInterval(fetchDog, 2000)
    btnToggle.textContent = 'stop dog update üê©'
    isRunning = true
  } else {
    console.log('stop!')
    clearInterval(dogInterval)
    btnToggle.textContent = 'start dog update üêï'
    isRunning = false
  }
}



// * 5 –ø–µ—Ä–µ–¥–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é –ø–æ–ª—É—á–µ–Ω–∏—è –∫–∞—Ä—Ç–∏–Ω–∫–∏ –≤ —Å–ª—É—à–∞—Ç–µ–ª—å —Å–æ–±—ã—Ç–∏—è –ø–æ –∫–ª–∏–∫—É, —á—Ç–æ–±—ã –º–æ–∂–Ω–æ –±—ã–ª–æ –æ–±–Ω–æ–≤–∏—Ç—å –∫–∞—Ä—Ç–∏–Ω–∫—É
getDog.addEventListener('click', fetchDog)


// * 6 –¥–æ–±–∞–≤–ª—è–µ–º –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∑–∞–ø—É—Å—Ç–∏—Ç—å –∏ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞—Ä—Ç–∏–Ω–æ–∫ –ø–æ –∫–ª–∏–∫—É
btnToggle.addEventListener('click', toggleInterval)